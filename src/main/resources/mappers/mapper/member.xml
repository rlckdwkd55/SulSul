<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sulsulmarket.sulsul.member.mapper.MemberMapper">

    <insert id="memberSign">
        INSERT INTO MEMBER(
             MEMBER_NAME
            ,MEMBER_BIRTHDATE
            ,MEMBER_EMAIL
            ,MEMBER_PHONE
            ,MEMBER_GENDER
            ,REG_TIME
            ,MEMBER_ROLE
        )
        VALUES(
             #{name}
            ,#{birthDay}
            ,#{email}
            ,#{mobile}
            ,#{gender}
            ,now()
            ,'ACTIVE'
        )
    </insert>

    <select id="getMemberByEmail" resultType="com.sulsulmarket.sulsul.dto.member.Member">
        SELECT *
          FROM MEMBER
        WHERE MEMBER_EMAIL = #{MEMBER_EMAIL}
    </select>

    <select id="getAddressByEmail" resultType="com.sulsulmarket.sulsul.dto.member.Address">
        SELECT
             ADDRESS
            ,DETAIL_ADDRESS
            ,POST_NO
          FROM ADDRESS
        WHERE MEMBER_EMAIL = #{MEMBER_EMAIL}
    </select>

    <insert id="addressSign">
        INSERT INTO ADDRESS(
         MEMBER_EMAIL
        ,ADDRESS
        ,DETAIL_ADDRESS
        ,POST_NO
        )
        VALUES(
         #{MEMBER_EMAIL}
        ,#{ADDRESS}
        ,#{DETAIL_ADDRESS}
        ,#{POST_NO}
        )
    </insert>
</mapper>